.TodoPlus
    width: 360px
    max-width: 40vw
    margin-top: clamp(6px, 1vh, 12px)
    position: relative
    z-index: 20
    font-family: "Bricolage Grotesque", "Sebino", "Sabino", "Helvetica Neue", "SF Pro Text", "Avenir Next", Avenir, Arial, sans-serif
    color: #1f1f1f
    font-size: 16px
    text-align: left
    display: flex
    flex-direction: column
    gap: 12px

    .panel
        background: rgba(245, 246, 248, 0.92)
        border-radius: 14px
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18)
        padding: 14px 14px 10px
        backdrop-filter: blur(6px)
        overflow: visible
        position: relative
        z-index: 1

    .panel.panel-open
        z-index: 30

    .panel.panel-collapsed
        flex: 0 0 auto

    .header
        display: flex
        align-items: center
        justify-content: space-between
        padding: 2px 2px 6px

    .list
        overflow-y: auto
        padding-right: 6px
        padding-top: 2px
        min-height: 0
        scrollbar-width: thin
        scrollbar-color: rgba(0, 0, 0, 0.25) transparent

        &::-webkit-scrollbar
            width: 6px

        &::-webkit-scrollbar-track
            background: transparent

        &::-webkit-scrollbar-thumb
            background-color: rgba(0, 0, 0, 0.25)
            border-radius: 999px

        > .item,
        > .empty
            margin-left: 2px

    .list.menu-open
        overflow: visible
    .list
        position: relative

    .section-title
        display: flex
        align-items: center
        justify-content: space-between
        gap: 8px
        width: 100%
        padding: 2px 0
        font-size: 22px
        text-transform: none
        letter-spacing: 0
        color: #2a2a2a
        font-weight: 500
        font-family: "Bricolage Grotesque", "Sebino", "Sabino", "Helvetica Neue", "SF Pro Text", "Avenir Next", Avenir, Arial, sans-serif

    .section-left
        display: inline-flex
        align-items: center
        gap: 6px

    .section-label
        display: inline-flex
        align-items: center
        gap: 6px

    .section-menu,
    .section-toggle,
    .section-switch,
    .section-collapse
        background: transparent
        border: 0
        color: #6b6b6b
        cursor: pointer
        padding: 2px

    .section-toggle
        display: inline-flex
        align-items: center
        gap: 8px
        font-size: 22px
        color: #2a2a2a
        font-weight: 500

    .section-collapse
        display: inline-flex
        align-items: center
        justify-content: center
        width: 24px
        height: 24px
        border-radius: 999px

    .section-switch
        display: inline-flex
        align-items: center
        gap: 6px
        font-size: 22px
        color: #2a2a2a
        font-weight: 500

    .section-menu
        width: 28px
        height: 28px
        border-radius: 999px
        background: #e6e6e6
        display: inline-flex
        align-items: center
        justify-content: center

    .section-menu:hover
        background: #dcdcdc

    .due-view-menu
        position: absolute
        top: 44px
        left: 14px
        min-width: 170px
        background: #f0f0f0
        border-radius: 10px
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15)
        padding: 8px
        display: grid
        z-index: 45

        button
            border: 0
            background: transparent
            text-align: left
            font-size: 13px
            color: #3c3c3c
            padding: 6px 8px
            border-radius: 6px
            cursor: pointer

        button:hover
            background: rgba(0, 0, 0, 0.06)

    .empty
        font-size: 13px
        color: #b0b0b0

    .item
        display: grid
        grid-template-columns: 16px 1fr 16px 16px
        align-items: start
        gap: 6px
        padding: 2px 2px
        font-size: 13px
        line-height: 1.3
        position: relative
        font-family: "Bricolage Grotesque", "Sebino", "Sabino", "Helvetica Neue", "SF Pro Text", "Avenir Next", Avenir, Arial, sans-serif

        &.completed .text
            color: #8c8c8c
            text-decoration: line-through

    .check
        width: 14px
        height: 14px
        border-radius: 4px
        border: 2px solid #b9b9b9
        background: #ffffff
        padding: 0
        display: inline-flex
        align-items: center
        justify-content: center
        color: #4d4d4d
        cursor: pointer

    .text
        outline: none
        min-height: 0
        word-break: break-word

    .content
        display: flex
        flex-direction: column
        gap: 2px
        position: relative
        align-items: flex-start

    .content-row
        display: flex
        align-items: center
        gap: 8px
        width: 100%
        justify-content: flex-start

    .meta
        display: flex
        flex-direction: column
        gap: 2px
        font-size: 12px
        color: #8f8f8f

    .meta.inline
        flex-direction: row
        align-items: center
        gap: 8px
        white-space: nowrap

    .text
        flex: 0 1 auto

    .completed-icon
        display: inline-flex
        align-items: center
        margin-left: 6px
        color: #9b9b9b
        opacity: 0
        background: none
        border: none
        padding: 0
        cursor: pointer

    .item.completed:hover .completed-icon
        opacity: 1

    .list-menu
        margin: 0
        background: #f0f0f0
        border-radius: 10px
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15)
        padding: 8px
        display: grid
        position: absolute
        top: 6px
        left: 2px
        right: 6px
        z-index: 40

        button
            border: 0
            background: transparent
            text-align: left
            font-size: 13px
            color: #3c3c3c
            padding: 6px 8px
            border-radius: 6px
            cursor: pointer

        button:hover
            background: rgba(0, 0, 0, 0.06)

        button + button
            border-top: 1px solid rgba(0, 0, 0, 0.08)
            border-radius: 0

    .delete
        background: transparent
        border: 0
        padding: 2px
        opacity: 0
        cursor: pointer
        color: #9b9b9b

    .item-menu
        background: transparent
        border: 0
        padding: 2px
        opacity: 0
        cursor: pointer
        color: #9b9b9b
        width: 16px
        height: 16px

    .item:hover .delete,
    .item:hover .item-menu
        opacity: 1

    .footer
        margin-top: 10px
        padding-top: 8px
        border-top: 1px solid rgba(0, 0, 0, 0.08)

        .composer
            display: flex
            align-items: center
            gap: 6px

            input
                width: 100%
                border: 0
                background: transparent
                font-size: 13px
                font-family: "Bricolage Grotesque", "Sebino", "Sabino", "Helvetica Neue", "SF Pro Text", "Avenir Next", Avenir, Arial, sans-serif
                font-weight: 400
                color: #6f6f6f
                outline: none

            .menu-toggle
                border: 0
                background: transparent
                color: #8a8a8a
                cursor: pointer
                padding: 4px
                border-radius: 6px

            .menu-toggle.open
                background: rgba(0, 0, 0, 0.05)

            .due-today
                border: 1px solid rgba(0, 0, 0, 0.12)
                background: transparent
                border-radius: 999px
                padding: 2px 8px
                font-size: 11px
                color: #6f6f6f
                cursor: pointer

            .hidden-control
                visibility: hidden
                pointer-events: none

        .menu
            margin-top: 8px
            background: #f0f0f0
            border: 1px solid rgba(0, 0, 0, 0.06)
            border-radius: 12px
            box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18)
            padding: 10px
            display: flex
            flex-direction: column
            gap: 10px
            font-size: 14px
            color: #4b4b4b
            position: relative
            z-index: 50

    .item-popover
        margin-top: 8px
        background: #f0f0f0
        border: 1px solid rgba(0, 0, 0, 0.06)
        border-radius: 12px
        box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18)
        padding: 10px
        display: flex
        flex-direction: column
        gap: 10px
        font-size: 14px
        color: #4b4b4b
        position: absolute
        right: 0
        top: 28px
        z-index: 50
        pointer-events: auto

    .item-popover.up
        top: auto
        bottom: 32px
        margin-top: 0
        margin-bottom: 8px

    .complete-menu
        margin-top: 8px
        background: #f0f0f0
        border: 1px solid rgba(0, 0, 0, 0.06)
        border-radius: 10px
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15)
        padding: 6px
        display: grid
        gap: 2px
        position: absolute
        left: 18px
        top: 24px
        z-index: 50

        &.up
            top: auto
            bottom: 28px
            margin-top: 0

        button
            border: 0
            background: transparent
            text-align: left
            font-size: 12px
            color: #3c3c3c
            padding: 6px 8px
            border-radius: 6px
            cursor: pointer

        button:hover
            background: rgba(0, 0, 0, 0.06)

    .menu-row
        display: flex
        align-items: center
        justify-content: space-between
        gap: 10px

    .menu-row-label
        display: flex
        align-items: center
        gap: 8px

    .menu-row-value
        font-size: 12px
        color: #8a8a8a

    .calendar-button
        display: inline-flex
        align-items: center
        justify-content: center
        width: 28px
        height: 28px
        border-radius: 8px
        background: #ffffff
        border: 1px solid rgba(0, 0, 0, 0.1)
        cursor: pointer
        position: relative

        input
            position: absolute
            inset: 0
            opacity: 0
            cursor: pointer

    .repeat
        display: flex
        flex-direction: column
        gap: 8px

    .repeat-options
        display: flex
        flex-wrap: wrap
        gap: 6px

    .repeat-options button,
    .custom-days button
        border: 1px solid rgba(0, 0, 0, 0.12)
        background: transparent
        border-radius: 999px
        padding: 4px 10px
        font-size: 12px
        color: #5a5a5a
        cursor: pointer

    .repeat-options button.active,
    .custom-days button.active
        background: #2f80ed
        border-color: #2f80ed
        color: #ffffff

    .custom-days
        display: flex
        flex-wrap: nowrap
        gap: 6px

@media (max-width: 900px)
    .TodoPlus
        width: 92vw
        max-width: 92vw
    .item + .item
        margin-top: 2px
